<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <div *ngFor="let movie of webService.single_movie_list">
                <div class="card text-white bg-primary mb-3" style="width: 50rem; margin: auto">
                    <div class="card-header">
                        {{ movie.title }}
                    </div>
                    <div class="card-body">
                        <p>Overview:</p>
                        {{ movie.overview }}
                    </div>
                    <div class="card-footer">
                        <p>Production Budget in Dollars:</p>
                        <p></p>{{ movie.budget }}
                    </div>
                    <div class="card-footer">
                        <p>Website:</p>
                        {{ movie.homepage }}
                    </div>
                    <div class="card-footer">
                        <p>Release Date: </p>
                        {{ movie.releasedate }}
                    </div>
                    <div class="card-footer">
                        <p>Runtime:</p>
                        {{ movie.runtime }}
                    </div>
                </div>
            </div>
        </div> <!-- col -->
    </div> <!-- row -->
</div> <!-- container -->
<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <div class="card bg-light mb-3"
            style = "width: 30rem; margin:auto"
            *ngFor = "let comment of reviews | async">
                <div class="card-header">
                    Comment by {{ comment.username }}
                            <!--on {{ comment.date.substr(0,10) | date }}-->
                </div>
            <div class="card-body">
                {{ comment.comment }}
                <hr>
                <p><strong>Votes:</strong>
                {{ comment.funny }} funny,
                {{ comment.useful }} useful,
                {{ comment.cool }} cool </p>
            </div>
            <div class="card-footer">
                {{ comment.stars }} stars
            </div>
        </div>
    </div>
</div>
</div> 

<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <h2>Please review this business</h2>
            <form [formGroup]="reviewForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" username="username"
                        class="form-control"
                        formControlName="username"
                        [ngClass]="{ 'error': isInvalid('username') }" >
                </div>
                <div class="form-group">
                    <label for="comment">Please leave your review below
                    </label>
                    <textarea id="comment" rows="3" comment="comment"
                        class="form-control"
                        formControlName="comment"
                        [ngClass]="{ 'error': isInvalid('comment') }" >
                    </textarea>
                </div>
                <div class="form-group">
                    <label for="stars">Please provide a rating (5 = best)</label>
                    <select id="stars" name="stars"
                        class="form-control"
                        formControlName="stars">
                    <option value="1">1 star</option>
                    <option value="2">2 stars</option>
                    <option value="3">3 stars</option>
                    <option value="4">4 stars</option>
                    <option value="5">5 stars</option>
                    </select>
                </div>
                <br>

                <span *ngIf="isIncomplete()">
                    You must complete all fields</span>

                <button *ngIf="!isIncomplete()" type="submit"
                    class="btn btn-primary">Submit</button>
                <br>
            </form>
        </div>
    </div>
</div>